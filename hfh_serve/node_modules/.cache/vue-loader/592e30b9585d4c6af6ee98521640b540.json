{"remainingRequest":"C:\\vv\\4th\\VUEUI\\day02\\scaffolding\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\vv\\4th\\VUEUI\\day02\\scaffolding\\src\\views\\Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\vv\\4th\\VUEUI\\day02\\scaffolding\\src\\views\\Main.vue","mtime":1630489917563},{"path":"C:\\vv\\4th\\VUEUI\\day02\\scaffolding\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\vv\\4th\\VUEUI\\day02\\scaffolding\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\vv\\4th\\VUEUI\\day02\\scaffolding\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\vv\\4th\\VUEUI\\day02\\scaffolding\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgZGF0YSgpew0KICAgIHJldHVybiB7DQogICAgICBuYXZhY3RpdmU6JzEnLA0KICAgICAgaDonMjEwcHgnLC8v6L2u5pKt5Zu+6auY5bqmDQogICAgICB0eXBlOltdLC8v5L+d5a2Y57G75Yir5YiX6KGoDQogICAgICBhcnRpY2xlczpbXS8v5L+d5a2Y5paH56ug5YiX6KGoDQogICAgfQ0KICB9LA0KICBtZXRob2RzOnsNCiAgICAvLyDliJ3lp4vljJbova7mkq3lm77pq5jluqYNCiAgICBpbml0U3dpcGVIZWlnaHQoKXsNCiAgICAgIGxldCBwaWN3ID0gMTI0MjsNCiAgICAgIGxldCBwaWNoID0gNjk4Ow0KICAgICAgbGV0IHNjcmVlbncgPSB3aW5kb3cuc2NyZWVuLndpZHRoOw0KICAgICAgbGV0IHN3aXBlaCA9IE1hdGguZmxvb3IocGljaCpzY3JlZW53L3BpY3cpICsncHgnIDsNCiAgICAgIHRoaXMuaCA9IHN3aXBlaDsNCiAgICB9LA0KICAgIC8vIGdldEFydGljbGVzKGNpZCxwYWdlKXsNCiAgICAvLyAgICAgdGhpcy5heGlvcy5nZXQoYC9hcnRpY2xlcz9jaWQ9JHtjaWR9JnBhZ2U9JHtwYWdlfWApLnRoZW4ocmVzPT57DQogICAgLy8gICAgIGNvbnNvbGUubG9nKHJlcyk7DQogICAgLy8gICAgIHRoaXMuYXJ0aWNsZXMgPSByZXMuZGF0YS5yZXN1bHRzOw0KICAgIC8vICAgfSkNCiAgICAvLyB9DQogIH0sDQogIG1vdW50ZWQoKXsNCiAgICB0aGlzLmluaXRTd2lwZUhlaWdodCgpOw0KICAgIC8vIOiOt+WPluexu+WIq+WIl+ihqA0KICAgIHRoaXMuYXhpb3MuZ2V0KCcvY2F0ZWdvcnknKS50aGVuKHJlcz0+ew0KICAgICAgY29uc29sZS5sb2cocmVzKTsgICAgIA0KICAgICAgdGhpcy50eXBlID0gcmVzLmRhdGEucmVzdWx0czsNCiAgICAgIC8vIOWPkemAgWh0dHDor7fmsYLvvIzojrflj5ZVSeexu+WIq+S4i+eahOmmlumhteaWh+eroOWIl+ihqOaVsOaNrg0KICAgICAgdGhpcy5heGlvcy5nZXQoJy9hcnRpY2xlcz9jaWQ9MSZwYWdlPTEnKS50aGVuKHJlcz0+ew0KICAgICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgICB0aGlzLmFydGljbGVzID0gcmVzLmRhdGEucmVzdWx0czsNCiAgICAgIH0pDQogICAgICAvLyB0aGlzLmdldEFydGljbGVzKDEsMSk7DQoNCiAgICB9KQ0KICB9LA0KICB3YXRjaDp7DQogICAgbmF2YWN0aXZlKG5ld3ZhbCxvbGR2YWwpew0KICAgICAgd2luZG93LnNjcm9sbFRvKDAsMCk7DQogICAgICAgIHRoaXMuYXhpb3MuZ2V0KGAvYXJ0aWNsZXM/Y2lkPSR7bmV3dmFsfSZwYWdlPTFgKS50aGVuKHJlcz0+ew0KICAgICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgICB0aGlzLmFydGljbGVzID0gcmVzLmRhdGEucmVzdWx0czsNCiAgICAgIH0pDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["Main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Main.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <!-- 标题栏 -->\r\n    <mt-header fixed title=\"首页\">\r\n      <div slot=\"right\">\r\n        <router-link class=\"link\" to=\"/login\">登录</router-link>\r\n        &nbsp;\r\n        <router-link class=\"link\" to=\"/register\">注册</router-link>\r\n      </div>\r\n    </mt-header>  \r\n      <!-- 导航 -->\r\n      <mt-navbar fixed v-model=\"navactive\">\r\n        <mt-tab-item v-for=\"e of this.type\" :key=\"e.id\" :id=\"`${e.id}`\">{{e.category_name}}</mt-tab-item>\r\n      </mt-navbar>\r\n      <!-- 内容面板组 -->\r\n      <mt-tab-container >\r\n        <mt-tab-container-item >\r\n          <!-- 轮播图 -->\r\n          <mt-swipe :style=\"{height:h}\" \r\n            :auto=\"4000\" \r\n            :speed=\"200\"\r\n            :showIndicators=\"true\"\r\n            :continuous =\"true\"\r\n            >\r\n      <mt-swipe-item><img src=\"/img/1.jpg\" alt=\"\"></mt-swipe-item>\r\n      <mt-swipe-item><img src=\"/img/2.jpg\" alt=\"\"></mt-swipe-item>\r\n      <mt-swipe-item><img src=\"/img/3.jpg\" alt=\"\"></mt-swipe-item>\r\n    </mt-swipe>\r\n        <!-- 单一文章信息开始 -->\r\n        <div class=\"articleItem\" v-for=\"(item,i) in articles\" :key=\"i\">\r\n          <!-- 文章标题开始 -->\r\n          <div class=\"articleItem-header\">{{item.subject}}</div>\r\n          <!-- 文章标题结束 -->\r\n          <!-- 文章图文信息开始 -->\r\n          <div class=\"articleItem-wrapper\">\r\n            <!-- 文章图像开始  -->\r\n            <div class=\"articleImg\">\r\n              <img v-show=\"item.image!=null\" :src=\"`/img/articles/${item.image}`\" />\r\n            </div>\r\n            <!-- 文章图像结束 -->\r\n            <!-- 文章简介开始 -->\r\n            <div class=\"articleDes\">\r\n              {{item.description}}\r\n            </div>\r\n            <!-- 文章简介结束 -->\r\n          </div>\r\n          <!-- 文章图文信息结束 -->\r\n        </div>\r\n        <!-- 单一文章信息结束 -->\r\n          </mt-tab-container-item>\r\n\r\n      </mt-tab-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data(){\r\n    return {\r\n      navactive:'1',\r\n      h:'210px',//轮播图高度\r\n      type:[],//保存类别列表\r\n      articles:[]//保存文章列表\r\n    }\r\n  },\r\n  methods:{\r\n    // 初始化轮播图高度\r\n    initSwipeHeight(){\r\n      let picw = 1242;\r\n      let pich = 698;\r\n      let screenw = window.screen.width;\r\n      let swipeh = Math.floor(pich*screenw/picw) +'px' ;\r\n      this.h = swipeh;\r\n    },\r\n    // getArticles(cid,page){\r\n    //     this.axios.get(`/articles?cid=${cid}&page=${page}`).then(res=>{\r\n    //     console.log(res);\r\n    //     this.articles = res.data.results;\r\n    //   })\r\n    // }\r\n  },\r\n  mounted(){\r\n    this.initSwipeHeight();\r\n    // 获取类别列表\r\n    this.axios.get('/category').then(res=>{\r\n      console.log(res);     \r\n      this.type = res.data.results;\r\n      // 发送http请求，获取UI类别下的首页文章列表数据\r\n      this.axios.get('/articles?cid=1&page=1').then(res=>{\r\n        console.log(res);\r\n        this.articles = res.data.results;\r\n      })\r\n      // this.getArticles(1,1);\r\n\r\n    })\r\n  },\r\n  watch:{\r\n    navactive(newval,oldval){\r\n      window.scrollTo(0,0);\r\n        this.axios.get(`/articles?cid=${newval}&page=1`).then(res=>{\r\n        console.log(res);\r\n        this.articles = res.data.results;\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.link {\r\n  color: white;\r\n}\r\n.mint-tab-container {\r\n  margin-top: 88px;\r\n  margin-bottom: 53px;\r\n}\r\n.mint-navbar {\r\n  margin-top: 40px;\r\n}\r\n.mint-swipe {\r\n  height: 200px; \r\n}\r\n.mint-swipe-item {\r\n  width: 100%;\r\n}\r\n.mint-swipe-item img {\r\n  width: 100%;\r\n}\r\n.articleItem {\r\n  padding: 10px 0;\r\n  margin: 0 10px;\r\n  border-bottom: 1px solid #999;\r\n}\r\n.articleItem-header {\r\n  font-weight: 600;\r\n  font-size: 17px;\r\n  color: #1a1a1a;\r\n  line-height: 22px;\r\n}\r\n.articleItem-wrapper {\r\n  display: flex;\r\n  align-items: center;\r\n  padding-top: 10px;\r\n  width: 100%;\r\n}\r\n.articleImg {\r\n  margin-right: 15px;\r\n}\r\n.articleImg img {\r\n  width: 112px;\r\n  height: 74px;\r\n  border-radius: 5px;\r\n}\r\n.articleDes {\r\n  height: 65px;\r\n  font-size: 15px;\r\n  overflow: hidden;\r\n  display: -webkit-box;\r\n  font-weight: 400;\r\n  -webkit-line-clamp:3;\r\n  -webkit-box-orient: vertical;\r\n  /* text-overflow: ellipsis; */\r\n  line-height: 21px;\r\n  letter-spacing: normal;\r\n  color: #444;\r\n}\r\n</style>\r\n\r\n\r\n\r\n"]}]}